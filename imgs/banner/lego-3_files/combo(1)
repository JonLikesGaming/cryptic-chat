window.ucs||(window.ucs={}),window.ucs.UH_MAIN_ID||(window.ucs.UH_MAIN_ID="#yucs"),window.ucs.ymreqid||(window.ucs.ymreqid=function(){var a=(new Date).getTime(),b=null,c="xxxxxxxx-xxxx-xxxx-09xx-xxxxxxxxxx00".replace(/x/g,function(){return b=(a+16*Math.random())%16|0,a=Math.floor(a/16),b.toString(16)});return c}),window.ucs._sendBeacon||(window.ucs._sendBeacon=function(a){var b=new Image;b.height=0,b.width=0,b.style.display="none",b.src="https://geo.yahoo.com/t"+a,document.body.appendChild(b)}),window.ucs.YObj||(window.ucs.YObj=function(){var a=document.getElementById("yucs");return"undefined"!=typeof window.Y&&a&&"srp"===a.getAttribute("data-property")?window.Y:YUI()}());YUI.add("ucs-menu-utils",function(a){if(a.namespace("ucs"),!a.ucs.MenuUtils){var b='{separatorTop}<li class="{isDisabled} {isActive} {menuClass}"><a target="{target}" {actionData} href="{url}" {disabledAria}>{icon}{menuText}</a></li>{separatorBottom}',c='{separatorTop}<li class="{isDisabled} {isActive} {menuClass}"><a href="#" data-customevt="true" {actionData} {disabledAria} {checkedAria}>{icon}{menuText}</a></li>{separatorBottom}',d='<span class="separator" role="presentation"></span>',e="click",f="a",g="role",h="tabIndex",i="yucs-hide",j="iframe",k="ul",l="li",m="parentNode",n="http://l.yimg.com/a/lib/ush/icon.gif",o="https://s.yimg.com/lq/lib/ush/icon.gif",p=300;a.ucs.MenuUtils=function(a,b){var c=b&&b.panelSelector||k;this.menu=a,this.enableClick=b&&b.enableClick,this.panel=this.menu.one(c),this.panel&&this.init(),this.openDelay=b&&"undefined"!=typeof b.openDelay?b.openDelay:p,this.closeTimer=null,this.overPanel=!1,this.overLink=!1},a.ucs.MenuUtils.prototype={init:function(){this.keyedup=!1,this.menu.on("hover",a.bind(this._handleMenuEnter,this),a.bind(this._handleMouseOut,this),this),this.panel.on("hover",a.bind(this._handlePanelEnter,this),a.bind(this._handlePanelLeave,this),this),this.enableClick&&this.menu.on("click",a.bind(this._handleMenuToggle,this),this),this.menu.delegate(e,this._handleMenuItemClick,"li a",this),this.menu.on("keyup",this._handleKeyup,this),this.menu.on("keydown",this._handleKeydown,this),this.menu.removeClass("yucs-activate"),this._initAria()},_initAria:function(){this.menu.one(f).set(g,"button"),this.panel.all(f).set(g,"menuitemradio"),this.panel.set(g,"menu"),this.panel.all("div,ul,li").set(g,"presentation"),a.UA.ipad||a.UA.mobile||this.panel.set(h,-1),this.focusmanager=this.panel.plug(a.Plugin.NodeFocusManager,{descendants:f,keys:{next:"down:40",previous:"down:38"},focusClass:{className:"yucs-has-focus",fn:function(a){return a.get(m)}},circular:!0})},_refreshAria:function(){this.focusmanager.focusManager.refresh()},_destructAria:function(){this.panel.unplug(a.Plugin.NodeFocusManager),this.panel.one(f).set(h,0)},_handleMenuClick:function(a){this.overLink&&this.panel.hasClass(i)&&(this._accessShowMenu(a),this.closeTimer&&(this.closeTimer.cancel(),this.closeTimer=null))},_handleMenuEnter:function(b){b.halt(),this.overLink=!0,a.later(this.openDelay,this,this._handleMenuClick)},_handlePanelEnter:function(){this.closeTimer&&(this.closeTimer.cancel(),this.closeTimer=null),this.overPanel=!0},_handlePanelLeave:function(){this.overPanel=!1,this.panelShown&&this._handleMouseOut()},_handleMenuToggle:function(){this.overLink=this.overLink?!1:!0,this.panelShown?(this.closeTimer&&(this.closeTimer.cancel(),this.closeTimer=null),this.panel.hasClass(i)||(this.closeTimer=a.later(500,this,this._handleLeave))):a.later(this.openDelay,this,this._handleMenuClick)},_handleKeyup:function(a){27===a.keyCode?(this.menu.one(f).focus(),this._hideMenu()):40!==a.keyCode||this.keyedup||(this.panel.one(f).focus(),this.keyedup=!0)},_handleKeydown:function(a){this.panel.hasClass(i)||a.stopPropagation(),40===a.keyCode&&a.preventDefault()},_handleDocumentClick:function(a){return this.panel.contains(a.target)||a.target._node===this.panel._node||this.panel.hasClass(i)||a.target===this.menu.one(">a")||a.target.get("parentNode")===this.menu.one(">a")?void(this.skipBlur=!0):void this._hideMenu()},_accessShowMenu:function(b){this._hideAllMenus(),this._showMenu(b),this.panel.focus(),a.Node.DOM_EVENTS.touchend=!0,this.documentBlurHandle=a.on("blur",function(){var a=this;this.skipBlur||(this.timeout=setTimeout(function(){a._hideMenu()},50)),this.skipBlur=!1},this.panel,this),this.documentFocusHandle=a.on("focus",function(a){this.timeout&&this.panel.hasChildNodes(a.target)&&(clearTimeout(this.timeout),this.timeout=null)},this.panel,this)},_showMenu:function(){this.panel.removeClass(i),this._addIframeShim();var a=this.menu.one(j);a&&a.removeClass(i)},_position:function(){var a=this.menu.get("region");this.panel.hasClass("yucs-menu-right")||this.panel.hasClass("yucs-menu-left")||this.panel.setStyle("left",a[0]),this.panel.setStyle("top",a[1]+13)},_handleMouseOut:function(){this.overLink=!1,this.closeTimer&&(this.closeTimer.cancel(),this.closeTimer=null),this.panel.hasClass(i)||(this.closeTimer=a.later(500,this,this._handleLeave))},_handleLeave:function(){this.overPanel||this.overLink||this._hideMenu()},_hideMenu:function(){this.panel.addClass(i),this.overPanel=!1;var a=this.menu.one(j);a&&a.addClass(i),this.documentBlurHandle&&this.documentBlurHandle.detach(),this.documentFocusHandle&&this.documentFocusHandle.detach(),this.documentClickHandle&&this.documentClickHandle.detach(),this.documentMouseDownHandle&&this.documentMouseDownHandle.detach(),this.documentTouchEndHandle&&this.documentTouchEndHandle.detach(),this.keyedup=!1},_hideAllMenus:function(){var b=a.all("yucs-menu iframe"),c=a.one("#yucs-top-menu");this._hideMenu(),c&&c.one("ul")&&(c.one("ul").addClass(i),a.one("#yucs-more").removeClass("yucs-menu-active")),b.addClass(i)},_addIframeShim:function(){var b,c=a.all("select"),d=a.UA.ie<=6;d&&0!==c.size()&&(b=this.menu.one(j),b||(b=document.createElement(j),b=this.panel.get(m).insertBefore(b,this.panel)),b.className="yucs-shim",b.setStyle("position","absolute"),b.setStyle("width",this.panel.getComputedStyle("width")),b.setStyle("height",this.panel.getComputedStyle("height")),b.setStyle("top",this.panel.getY()+"px"),b.setStyle("border","0px none"),this.menu.hasClass("yucs-help")||b.setStyle("left",0),b.frameBorder=0)},_addMenuGroups:function(a,b,c){for(var d=this.menu.one(k),e="",f=d.get("children")._nodes.length?!0:!1,g=0,h=a.length;h>g;g++){var i=a[g].length;"bottom"===b?a[g][0].separatorTop=!0:(h-1>g||f)&&(a[g][i-1].separatorBottom=!0),e+=this._addMenuGroup(a[g],c)}"bottom"===b?d.append(e):d.prepend(e)},_addMenuGroup:function(a,b){for(var c="",d=0,e=a.length;e>d;d++)b?(a[d].isDebugItem=!0,a[d].menuClass="debug-item"):(a[d].isDebugItem=!1,a[d].menuClass="minty-item"),c+=this._addMenuItem(a[d]);return c},_addMenuItem:function(d){var e="";switch(d.checkedAria=d.isActive?'aria-checked="true"':"",d.disabledAria=d.isDisabled?'aria-disabled="true"':"",d.actionType){case"link":e=a.substitute(b,d,this._processTemplateValue);break;case"customEvent":e=a.substitute(c,d,this._processTemplateValue)}return e&&(e=d.isDebugItem?e.replace(/separator/,"separator debug-item"):e.replace(/separator/,"separator minty-item")),e},_clearMenuItem:function(a){this.menu.one(k).all("."+a).each(function(a){a.remove(!0)})},_processTemplateValue:function(b,c,e){a.log("key = "+b+" value = "+c+" meta_data = "+e);var f="",g="https:"===document.location.protocol?o:n;switch(b){case"icon":void 0!==c&&(f="available"===c?'<img src="'+g+'" class="yucs-opi available"/>':"offline"===c?'<img src="'+g+'" class="yucs-opi offline"/>':"invisible"===c?'<img src="'+g+'" class="yucs-opi invisible"/>':"busy"===c?'<img src="'+g+'" class="yucs-opi busy"/>':"idle"===c?'<img src="'+g+'" class="yucs-opi idle"/>':'<img src="'+c+'" />');break;case"separatorTop":c&&(f=d);break;case"separatorBottom":c&&(f=d);break;case"actionData":c&&(f='data-mad="'+c+'"');break;case"isDisabled":c&&(f="disabled");break;case"isActive":c&&(f="sp active");break;case"checkedAria":f=c;break;default:f=c}return f},_resetItemStatus:function(a){var b,c=a.ancestor(k).all(l),d=a.ancestor(k).all("li.disabled");c.removeClass("sp active"),d.removeClass("disabled"),a.getAttribute("data-dis")&&(b=a.ancestor(l),b.addClass("disabled")),a.getAttribute("data-hs")&&(b=a.ancestor(l),b.addClass("sp active"))},_handleMenuItemClick:function(a){a.target}}}},"1.0",{requires:["node","event","event-hover","event-custom","substitute","node-focusmanager"]}),function(){var a=document.getElementById("yucs");a&&window.ucs.YObj.use("node","ucs-menu-utils",function(a){var b=a.one("#yucs").all("li.yucs-menu.yucs-activate");b.each(function(b){new a.ucs.MenuUtils(b)})})}();if(window.ucs&&window.ucs.YObj){(function(a){YUI.add("ucs-meta",function(g){g.namespace("ucs");if(g.ucs.Meta){g.log("Y.ucs.Meta is already defined.","debug","ucs-meta");return;}var c=null,f=null,d=null,e={},b=function(h){if(g.version>="3.5.1"){return h.getData();}else{return{authstate:h.getAttribute("data-authState"),cobrand:h.getAttribute("data-cobrand"),crumb:h.getAttribute("data-crumb"),gta:h.getAttribute("data-gta"),device:h.getAttribute("data-device"),experience:h.getAttribute("data-experience"),firstname:h.getAttribute("data-firstname"),flight:h.getAttribute("data-flight"),forcecobrand:h.getAttribute("data-forcecobrand"),guid:h.getAttribute("data-guid"),host:h.getAttribute("data-host"),https:h.getAttribute("data-https"),languagetag:h.getAttribute("data-languagetag"),property:h.getAttribute("data-property"),protocol:h.getAttribute("data-protocol"),shortfirstname:h.getAttribute("data-shortfirstname"),shortuserid:h.getAttribute("data-shortuserid"),status:h.getAttribute("data-status"),spaceid:h.getAttribute("data-spaceid"),test_id:h.getAttribute("data-test_id"),userid:h.getAttribute("data-userid")};}};g.ucs.Meta=function(h){c=this;c.components={meta:h};c.data=b(h);};g.ucs.Meta.prototype={authState:function(){return g.Object.getValue(c.data,"authstate");},cobrand:function(){return g.Object.getValue(c.data,"cobrand");},crumb:function(){return g.Object.getValue(c.data,"crumb");},gta:function(){return g.Object.getValue(c.data,"gta");},device:function(){return g.Object.getValue(c.data,"device");},experience:function(){return g.Object.getValue(c.data,"experience");},find:function(h){return g.one(g.Lang.sub("#yucs-{component}",{component:h}));},firstname:function(){return g.Object.getValue(c.data,"firstname");},flight:function(){return g.Object.getValue(c.data,"flight");},forcecobrand:function(){return g.Object.getValue(c.data,"forcecobrand");},guid:function(){return g.Object.getValue(c.data,"guid");},host:function(){return g.Object.getValue(c.data,"host");},https:function(){return g.Object.getValue(c.data,"https");},languagetag:function(){return g.Object.getValue(c.data,"languagetag");},property:function(){return g.Object.getValue(c.data,"property");},protocol:function(){return g.Object.getValue(c.data,"protocol");},shortfirstname:function(){return g.Object.getValue(c.data,"shortfirstname");},shortuserid:function(){return g.Object.getValue(c.data,"shortuserid");},status:function(){return g.Object.getValue(c.data,"status");},spaceid:function(){return g.Object.getValue(c.data,"spaceid");},test_id:function(){return g.Object.getValue(c.data,"test_id");},userid:function(){return g.Object.getValue(c.data,"userid");},toJSON:function(){return{authState:c.authState(),cobrand:c.cobrand(),crumb:c.crumb(),gta:c.gta(),device:c.device(),experience:c.experience(),firstname:c.firstname(),flight:c.flight(),forcecobrand:c.forcecobrand(),guid:c.guid(),host:c.host(),https:c.https(),languagetag:c.languagetag(),property:c.property(),protocol:c.protocol(),shortfirstname:c.shortfirstname(),shortuserid:c.shortuserid(),status:c.status(),spaceid:c.spaceid(),test_id:c.test_id(),userid:c.userid()};}};},"0.0.1",{requires:["node"]});a.YObj.use("ucs-meta",function(b){if(!b.Lang.isObject(a.Meta)||!(a.Meta instanceof b.ucs.Meta)){a.Meta=new b.ucs.Meta(b.one("#yucs-meta"));}});}(window.ucs));}YUI.add("ucs-simple-menu",function(a){a.namespace("ucs.MoreMenu");var b="yucs-menu-active",c="role",d=">li>a",e="parentNode";a.ucs.MoreMenu=function(b){a.ucs.MoreMenu.superclass.constructor.call(this,b),b.removeClass("yucs-more-activate"),this.ylt=b.getAttribute("data-ylt"),this.topBar=a.one("#yucs-top-bar"),this._init()},a.extend(a.ucs.MoreMenu,a.ucs.MenuUtils,{_init:function(){this._position(),this._initAriaTopbar(),this._initEvents()},_initEvents:function(){this.menu.detach("hover"),this.panel.detach("hover"),a.one("#yucs-more-link").on("click",this._handleMenuClick,this),a.Global.on("ucs:menuNavShow",this._hideMenu,this)},_handleMenuClick:function(b){b.halt(),this.panel.hasClass("yucs-hide")?(this._showMenu(b),this.menu.removeClass("yucs-has-focus"),this.menu.one("a").blur(),this.documentClickHandle=a.one("body").on("click",this._handleDocumentClick,this),this.documentMouseDownHandle=a.one("body").on("mousedown",this._handleDocumentClick,this)):this._hideMenu()},_position:function(){var b=this.menu.get("region").height;b-=2,a.one("#yucs-top-menu").setStyle("top",b+"px")},_sendBeacon:function(){window.ucs._sendBeacon(this.ylt)},_showMenu:function(){this.panel.hasClass("yucs-hide")&&(this._sendBeacon(),this.menu.addClass(b),a.ucs.MoreMenu.superclass._showMenu.apply(this,arguments))},_hideMenu:function(){a.ucs.MoreMenu.superclass._hideMenu.apply(this,arguments),this.menu.removeClass(b)},_handleKeyup:function(a){27===a.keyCode||9===a.keyCode?(this.menu.one("a").focus(),this._hideMenu()):40!==a.keyCode||this.keyedup||(this.panel.one("a")&&(this._handleMenuClick(a),this.panel.one("a").focus()),this.keyedup=!0)},_initAriaTopbar:function(){this.topBar&&(this.toolbar=a.one("#yucs-top-list"),this.toolbar.set(c,"toolbar"),this.toolbar.all(">li").set(c,"presentation"),this.toolbar.delegate("mouseenter",function(a){a.currentTarget.removeClass("yucs-has-focus")},">li"),this.fm=this.toolbar.plug(a.Plugin.NodeFocusManager,{descendants:d,keys:{next:"down:39",previous:"down:37"},focusClass:{TABINDEX_ATTR:"-1",className:"yucs-has-focus",fn:function(a){return a.get(e)}},circular:!0}),this.panel.focusManager.get("descendants").after("keydown",function(a){9===a.keyCode&&(this.panel.focusManager.focus(0),this._hideMenu())},this),this.toolbar.focusManager.get("descendants").after("keyup",function(a){9===a.keyCode&&this.toolbar.focusManager.focus(0),27===a.keyCode&&(this.menu.one("a").focus(),this._hideMenu())},this))}})},"1.0",{requires:["node","event","ucs-menu-utils","event-resize","event-hover","node-focusmanager","event-mouseenter","event-delegate"]}),function(){window.ucs.YObj.use("node","ucs-simple-menu",function(a){var b,c=a.one("#yucs-more.yucs-more-activate");c&&(b=new a.ucs.MoreMenu(c))})}();